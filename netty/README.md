### 자바 네트워크 소녀 Netty 책 학습

#### 53page, 소켓을 처리하기 위해 메모리의 크기를 키워 힙의 크기를 최대로 하는 것이 옳은가

1. 가비지 컬렉션에 대한 고찰

- 힙 크기가 크면 클수록 가비지 컬렉션에 드는 시간이 길어짐, 즉 힙 크기와 생성 가능한 스레드 수는 비례
- 힙에 할당된 메모리가 크면 클수록 가비지 컬렉션이 수행되는 횟수는 줄어들지만 수행시간은 상대적으로 길어져 좋은 방법으로 보기 어려움
- 나의 생각
    - FullGC가 수행되는 횟수를 높이고, 그 수행시간을 짧게 단축시켜서 처리하는 방법이 있을 것 같음
        - 단, 수행시간을 짧게 단축시켜서 처리할 경우 클라이언트에게는 STW이 발생했을 때 인지 못하도록 해야함

2. 컨텍스트 스위칭에 대한 고찰

- 메모리의 양이 커지는 만큼 쓰레드를 많이 생성할 수 있지만, 그만큼 더 많은 컨텍스트 스위칭으로 인한 성능저하가 발생할 수 있음

#### 일반적인 소켓 프로그래밍은 스레드 하나당 소켓 하나로 설정이 된다. 하지만 네티는 하나의 스레드로도 여러개의 소켓을 만들어 관리할 수 있다.

- 사실 이부분이 잘 이해가 되지 않는 부분이다. 클라이언트와 서버가 연결을 계속 유지하고 있어야하는 것인데 그럼 클라이언트 뿐만 아니라 서버도 끝단에 지속적으로 열려있어야하는 것이 아닌가? 그러면 그것에 대한
  스레드를 할당해서 처리를 해야하는 것으로 생각했다.
- 아직도 이 부분에 대해서 잘 이해가 가지 않지만, 내 개인적인 생각으로는 소켓 객체를 만들 때 스레드 하나씩 부여하는 것이 아닌, 하나의 쓰레드 내에서 단순히 여러 개의 객체를 만들어 두고 메모리에 올려둔 다음에
  해당하는 객체들을 하나의 쓰레드에서 계속 체크하는 방식이지 않을까 싶다.
