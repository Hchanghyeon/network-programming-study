# 2.프레임워크와 스프링 부트
- 프레임워크가 없이 개발한다는 것은 굉장히 어려운 일
- 프레임워크를 이용한다면 HTTP로 요청하고 응답할 때 특정 클래스들을 지원함으로써 좀 더 편리하게 사용 가능
- 그래서 프레임워크가 등장하게 됨

## 2.1 스프링 투어가 스프링 부트를 선택한 이유
- 개발자의 코드는 프레임워크에 의존하게되어, 개발 도중 프레임워크를 변경하기 어려우며 초기 선택이 굉장히 중요함
- 개발된 프로그램은 특정 프레임워크에 적합한 코드가 되는 대신 다른 프레임워크를 사용하기 어려운 상태를 락 인이라고 부름
- 스프링 프레임워크는 EJB와 달리 프레임워크의 코드와 개발자의 코드가 복잡하게 얽히는 일이 없어서 **비침투적 프레임워크**라고 부름
- 스프링 부트는 자동 구성과 스타터 기능, 엑츄에이터가 있어 매우 쉽고 빠르게 애플리케이션 서버를 만들 수 있음

## 2.2 스프링 프레임워크
- 스프링은 여러 가지 프레임워크를 제공하고, 형태와 기능에 따라 구분
- 예를 들면, Spring Data, Spring Boot, Spring Framework, Spring Cloud를 하나의 Spring Project라고 부르며 Spring Data 프로젝트안에도 Redis, Jpa 등이 있음
- 스프링 프레임워크는 아래와 같은 특징이 있음
  - POJO 기반의 경량 컨테이너 제공
    - EJB 처럼 프레임워크의 메서드가 사용자 클래스에 구현되는 문제가 없고, POJO(특정 기술에 종속되지 않는 순수 자바 객체)로 구현되어 프레임워크의 코드와 분리되어있음
  - 복잡한 비즈니스 영역의 문제를 쉽게 개발하고 운영하기 위한 철학
    - 의존성 주입, 관점지향 프로그래밍, 서비스 추상화
  - 여러 개의 개별 단위로 구성되어있는 모듈식 프레임워크
  - 높은 확장성 및 범용성
  - 경량급 오픈 소스 프레임워크

## 2.3 스프링 부트 소개
- 스프링 부트 프로젝트의 목적은 가능한 빠르게 애플리케이션을 개발하고, 서비스하는 것을 우선시 함
- 스프링 부트의 가장 큰 장점으로 별도의 설정 없이 바로 애플리케이션을 개발할 수 있음
  - 예를들어, JDBC Template을 이용하기 위해 DataSource나 Connection, TransactionManager와 같은 설정을 해주어야하는데 자동으로 설정해줌
- 스프링부트는 스프링 프레임워크를 포함

### 2.3.1 단독 실행 가능한 스프링 애플리케이션
- 단독실행이 가능한 Jar 파일을 만들 수 있음
- Java만 설치되어있으면 WAS가 없어도 JAR 파일로 실행이 가능함
- 스케일 아웃에도 편리하며 환경을 구분할 수 있음(dev, production, stage)

### 2.3.2 간편한 설정을 위한 스타터 의존성 제공
- 기능별로 라이브러리 의존성을 포함한 스타터를 제공
- MSA에서는 모든 팀에서 사용하는 공통 모듈을 스타터로 만들면 일관성 있는 애플리케이션 개발이 가능

### 2.3.3 스프링 기능을 자동 설정하는 자동 구성 제공
- 스프링에서 사용할 수 있는 수많은 기능을 자동 설정으로 제공

### 2.3.4 모니터링 지표, 헬스 체크를 위한 '액츄에이터'
- 스프링 부트를 이용해서 애플리케이션을 개발했다면 기본 모니터링 지표와 헬스 체크 기능을 기본으로 제공

### 2.3.5 XML 설정을 위한 일이 필요 없음
- ApplicationContext 설정을 XML로 작성하는데 복잡하고 번거로움
- JavaClass를 이용하여 자바 설정을 가능하게 함 자동 구성을 이용하여 많이 설정되어있음

### 2.3.6 내장된 WAS
- starter-web에 톰캣이 내장되어있음

### @SpringBootApplication 애너테이션과 메인 클래스
- @SpringBootApplication 내부에 세개의 주요 애너테이션을 포함
- 스프링 어플리케이션 클래스는 지연 초기화 기능을 제공하여, 스프링 빈 객체를 사용하는 그때 초기화 됨(스프링부트는 기본적으로 비활성화) 
  - 상황에 따라 늦게 초기화되어, 응답이 느릴 수 있음
  - 예를 들면, 서비스를 재시작하고 API를 쐈을 때 항상 첫번째 요청이 느림

```JAVA
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan
```

#### @SpringBootConfiguration
- @Configuration 애너테이션이 정의 된 클래스는 자바 설정 클래스로 @SpringBootConfiguration은 SpringBoot만의 Configuration을 의미함

#### @EnableAutoConfiguration
- 자동 설정 기능을 활성화 함
- AutoConfigurationImportSelector를 가져와서 해당 클래스가 자동 설정 기능을 활성화 함

### @ComponentScan
- @Configuration으로 정의된 자바 클래스와 여러 타입 애너테이션으로 정의된 클래스들을 스캔 -> 스프링 빈으로 올라와서 관리됨